%{
#include <stdio.h>
%}

/* 
Regex breakdown:
- Day: (0[1-9]|[12][0-9]|3[01]) → 01–09, 10–29, 30–31
- Month: (0[1-9]|1[0-2]) → 01–12
- Year: (19[0-9]{2}|20[0-9]{2}) → 1900–2099
*/

%%

(0[1-9]|[12][0-9]|3[01])/(0[1-9]|1[0-2])/(19[0-9]{2}|20[0-9]{2})   { 
    printf("Valid DOB: %s\n", yytext); 
}

[ \t\n]+    ;   /* Ignore whitespace */
.+          { printf("Invalid DOB: %s\n", yytext); }

%%

int main() {
    printf("Enter DOB(s) in format DD/MM/YYYY (Ctrl+D to stop):\n\n");
    yylex();
    return 0;
}

int yywrap() {
    return 1;
}
